<html>
<head><title>Genshin Impact</title><link rel="icon" type="image/jpeg" href="Logo1.png"><meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body> <button id="btnArriba" style="display:none;position:fixed;bottom:30px;right:30px;z-index:2000;padding:12px 18px;border-radius:50%;background:#5e81ac;color:#fff;font-size:1.5em;border:none;box-shadow:0 2px 8px #0008;cursor:pointer;">â†‘</button>

  <audio id="bgm" src="Monstadt.mp3" loop autoplay></audio>
<button id="toggleMusic">ðŸ”Š</button>

<button id="toggleTheme" title="Cambiar tema">ðŸŒ™</button>


<style>
            body {
                
      background-image: url('Wallpaper.gif');
      background-size: cover; 
      background-position: center; 
      background-attachment: fixed; 
      margin: 0;
      height: 100vh;
    }
    nav {
  width: 100%;
  background: rgba(30, 30, 60, 0.85);
  display: flex;
  justify-content: center;
  align-items: center;
  position: sticky;
  top: 0;
  z-index: 10;
}
.menu {
  list-style: none;
  margin: 0;
  padding: 0;
  display: flex;
  gap: 30px;
}
.menu > li {
  position: relative;
}
.menu > li > a {
  display: block;
  color: #fff;
  padding: 16px 24px;
  text-decoration: none;
  font-weight: bold;
  letter-spacing: 1px;
  border-radius: 8px;
  transition: background 0.3s, color 0.3s;
}
.menu > li > a:hover {
  background: #5e81ac;
  color: #ffe082;
}
.submenu {
  display: none;
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  background: #23234a;
  min-width: 180px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.15);
  z-index: 1;
  border-radius: 0 0 12px 12px;
  overflow: hidden;
  margin-top: 6px;
}
.submenu li a {
  color: #fff;
  padding: 12px 20px;
  display: block;
  text-decoration: none;
  font-weight: normal;
  transition: background 0.2s;
}
.submenu li a:hover {
  background: #5e81ac;
  color: #ffe082;
}
.menu li:hover .submenu,
.menu li:focus-within .submenu {
  display: block;
}

/* ...existing code... */
.carousel-container {
  width: 100%;
  display: flex;
  justify-content: center;
  margin: 40px 0 0 0;
  overflow: visible; /* Cambiado a visible */
}
.carousel {
  display: flex;
  gap: 30px;
  transition: transform 0.5s;
  will-change: transform;
  /* Quita overflow: visible; */
}
.carousel-item {
  position: relative;
  flex: 0 0 220px;
  opacity: 0.5;
  filter: brightness(0.5);
  transition: filter 0.5s, opacity 0.5s, transform 0.5s, z-index 0.5s;
  display: flex;
  flex-direction: column;
  align-items: center;
  z-index: 1;
  background: transparent;
}
.carousel-item img {
  width: 200px;
  height: 270px;      /* <-- MÃ¡s alto */
  border-radius: 24px;
  object-fit: cover;
  box-shadow: 0 2px 12px #0006;
  margin-bottom: 12px;
  background: #23234a;
}
.carousel-item span {
  color: #fff;
  font-weight: bold;
  text-shadow: 0 2px 8px #000;
  font-size: 1.3em;
  background: rgba(30,30,60,0.7); /* Fondo semitransparente */
  padding: 6px 18px;
  border-radius: 12px;
  margin-bottom: 8px;
  z-index: 2;
  position: relative;
  min-width: 120px;
  text-align: center;
}
.carousel-item.active {
  opacity: 1;
  filter: brightness(1);
  transform: scale(1.18);
  z-index: 10;
}

.modal {
  display: none;
  position: fixed;
  left: 0; right: 0; bottom: 0; top: 0;
  background: rgba(30,30,60,0.7);
  z-index: 1000;
  justify-content: center;
  align-items: flex-end;
  transition: opacity 0.3s;
  opacity: 0;
  pointer-events: none;
}
.modal.mostrar {
  display: flex;
  opacity: 1;
  pointer-events: auto;
}
@keyframes fadeIn {
  from { background: rgba(30,30,60,0); }
  to { background: rgba(30,30,60,0.7); }
}
.modal-content {
  background: #23234a;
  color: #fff;
  width: 100%;
  max-width: 400px;
  margin: 0 auto 40px auto;
  border-radius: 24px 24px 0 0;
  padding: 32px 24px 24px 24px;
  box-shadow: 0 -4px 24px #0008;
  transform: translateY(100%);
  animation: slideUp 0.4s forwards;
  position: relative;
}
@keyframes slideUp {
  from { transform: translateY(100%);}
  to { transform: translateY(0);}
}
.close {
  position: absolute;
  top: 16px;
  right: 24px;
  font-size: 2em;
  color: #ffe082;
  cursor: pointer;
  font-weight: bold;
  z-index: 10;
}

.carousel-container {
  width: 100%;
  display: block;
  position: relative;
  margin: px 0 0 0; /* Aumenta el margen superior */
  overflow: hidden;
  padding-top: 30px;    /* Espacio extra arriba para las imÃ¡genes */
}
.carousel-arrows {
  display: flex;
  justify-content: center;
  gap: 30px;
  margin-top: 18px;
  padding-top: 30px; /* <-- AÃ±ade espacio arriba */
}
.arrow {
  background: rgba(30,30,60,0.8);
  color: #ffe082;
  border: none;
  border-radius: 50%;
  width: 48px;
  height: 48px;
  font-size: 2em;
  cursor: pointer;
  z-index: 20;
  transition: background 0.2s, color 0.2s;
}
.arrow:hover {
  background: #5e81ac;
  color: #fff;
}

.icono-elemento {
  width: 22px;
  height: 22px;
  vertical-align: middle;
  margin-right: 8px;
  margin-bottom: 3px;
}
#buscadorPersonaje {
  display: block;
  margin: 30px auto 30px auto; /* Centra horizontalmente */
  padding: 10px 18px;
  border-radius: 12px;
  border: none;
  background: rgba(30,30,60,0.85);
  color: #ffe082;
  font-size: 1.1em;
  box-shadow: 0 2px 8px #0006;
  outline: none;
  transition: box-shadow 0.2s;
  z-index: 1001;
}
#buscadorPersonaje::placeholder {
  color: #ffe08299;
}
#buscadorPersonaje:focus {
  box-shadow: 0 4px 16px #5e81ac;
}

#toggleMusic {
  position: fixed;
  bottom: 30px;
  right: 30px;
  z-index: 2000;
  background: #23234a;
  color: #ffe082;
  border: none;
  border-radius: 50%;
  width: 54px;
  height: 54px;
  font-size: 2em;
  box-shadow: 0 2px 8px #0008;
  cursor: pointer;
  transition: background 0.2s, color 0.2s, transform 0.2s;
  display: flex;
  align-items: center;
  justify-content: center;
}
#toggleMusic:hover {
  background: #5e81ac;
  color: #fff;
  transform: scale(1.08);
}

#toggleTheme {
  position: fixed;
  bottom: 100px;
  right: 30px;
  z-index: 2000;
  background: #23234a;
  color: #ffe082;
  border: none;
  border-radius: 50%;
  width: 54px;
  height: 54px;
  font-size: 2em;
  box-shadow: 0 2px 8px #0008;
  cursor: pointer;
  transition: background 0.2s, color 0.2s, transform 0.2s;
  display: flex;
  align-items: center;
  justify-content: center;
}
#toggleTheme:hover {
  background: #5e81ac;
  color: #fff;
  transform: scale(1.08);
}

/* Tema claro */
body.light-theme {
  background-image: none;
  background: #f5f5f5;
  color: #23234a;
}
body.light-theme nav {
  background: #fff;
}
body.light-theme .menu > li > a,
body.light-theme .submenu li a {
  color: #23234a;
}
body.light-theme .menu > li > a:hover,
body.light-theme .submenu li a:hover {
  background: #ffe082;
  color: #23234a;
}
body.light-theme #toggleMusic,
body.light-theme #toggleTheme {
  background: #ffe082;
  color: #23234a;
}
body.light-theme #toggleMusic:hover,
body.light-theme #toggleTheme:hover {
  background: #23234a;
  color: #ffe082;
}
body.light-theme {
  background-image: url('DayWallpaper.gif'); /* O la imagen que quieras */
  background-size: cover;
  background-position: center;
  background-attachment: fixed;
  color: #23234a;
}

.arrow {
  background: transparent;
  border: none;
  border-radius: 50%;
  width: 60px;
  height: 60px;
  padding: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 2px 8px #0006;
  cursor: pointer;
  transition: transform 0.2s, box-shadow 0.2s;
  outline: none;
  position: relative;
}
.arrow svg {
  display: block;
  width: 42px;
  height: 42px;
  transition: filter 0.2s;
}
.arrow:hover {
  transform: scale(1.15) rotate(-8deg);
  box-shadow: 0 4px 16px #5e81ac99;
}
.arrow.right:hover {
  transform: scale(1.15) rotate(8deg);
}
.arrow:active svg {
  filter: brightness(1.3) drop-shadow(0 0 8px #ffe082cc);
}

/* Responsive: Ajustes para pantallas pequeÃ±as */
@media (max-width: 700px) {
  nav {
    flex-direction: column;
    padding: 0 8px;
  }
  .menu {
    flex-direction: column;
    gap: 10px;
  }
  .menu > li > a {
    padding: 12px 10px;
    font-size: 1em;
  }
  .submenu {
    min-width: 120px;
    font-size: 0.95em;
  }
  #buscadorPersonaje {
    width: 90vw;
    min-width: 0;
    font-size: 1em;
    margin: 18px auto 18px auto;
    padding: 8px 12px;
  }
  .carousel-container {
    padding-top: 10px;
    margin: 10px 0 0 0;
  }
  .carousel {
    gap: 10px;
  }
  .carousel-item {
    flex: 0 0 120px;
  }
  .carousel-item img {
    width: 100px;
    height: 140px;
    border-radius: 14px;
  }
  .carousel-item span {
    font-size: 1em;
    min-width: 60px;
    padding: 4px 8px;
  }
  .arrow, .arrow svg {
    width: 38px !important;
    height: 38px !important;
  }
  #toggleMusic, #toggleTheme, #btnArriba {
    width: 40px !important;
    height: 40px !important;
    font-size: 1.2em !important;
    right: 12px !important;
    bottom: 12px !important;
  }
  #toggleTheme {
    bottom: 60px !important;
  }
}

/* Opcional: mejora el modal en mÃ³vil */
@media (max-width: 500px) {
  .modal-content {
    max-width: 98vw;
    padding: 16px 4px 12px 4px;
  }
}

    </style>
    <nav>
  <ul class="menu">
    <li><a href="GenshinImpact.html">Inicio</a></li>
    <li>
      <a href="#">Personajes â–¼</a>
     <ul class="submenu">
  <li><a href="Anemo.html"><img src="Anemo.webp" class="icono-elemento" alt="Anemo"> Anemo</a></li>
  <li><a href="#pyro"><img src="Pyro.png" class="icono-elemento" alt="Pyro"> Pyro</a></li>
  <li><a href="#hydro"><img src="Hydro.webp" class="icono-elemento" alt="Hydro"> Hydro</a></li>
  <li><a href="#electro"><img src="Electro.png" class="icono-elemento" alt="Electro"> Electro</a></li>
  <li><a href="#cryo"><img src="Cryo.webp" class="icono-elemento" alt="Cryo"> Cryo</a></li>
  <li><a href="#geo"><img src="Geo.webp" class="icono-elemento" alt="Geo"> Geo</a></li>
  <li><a href="#dendro"><img src="Dentro.webp" class="icono-elemento" alt="Dendro"> Dendro</a></li>
</ul>
    </li>
    <li>
      <a href="#">Regiones â–¼</a>
      <ul class="submenu">
  <li><a href="#mondstadt"><img src="ImgRe/Mondstadt.webp" class="icono-elemento" alt="Mondstadt"> Mondstadt</a></li>
  <li><a href="#liyue"><img src="ImgRe/Liyue.webp" class="icono-elemento" alt="Liyue"> Liyue</a></li>
  <li><a href="#inazuma"><img src="ImgRe/Inazuma.webp" class="icono-elemento" alt="Inazuma"> Inazuma</a></li>
  <li><a href="#sumeru"><img src="ImgRe/Sumeru.webp" class="icono-elemento" alt="Sumeru"> Sumeru</a></li>
  <li><a href="#fontaine"><img src="ImgRe/Fontaine.webp" class="icono-elemento" alt="Fontaine"> Fontaine</a></li>
  <li><a href="#natlan"><img src="ImgRe/Natlan.webp" class="icono-elemento" alt="Natlan"> Natlan</a></li>
  <li><a href="#snezhnaya"><img src="ImgRe/Snezhnaya.webp" class="icono-elemento" alt="Snezhnaya"> Snezhnaya</a></li>
</ul>
    </li>
    <li><a href="#contacto">Contacto</a></li>
  </ul>
</nav>
<input type="text" id="buscadorPersonaje" placeholder="Buscar personaje...">


 <div class="carousel-container">
  <div class="carousel" id="anemoCarousel">
    <!-- Tus personajes aquÃ­ -->
    <div class="carousel-item"><img src="Anemo/Venti.png" alt="Venti"><span>Venti</span></div>
    <div class="carousel-item"><img src="Anemo/Jean.webp" alt="Jean"><span>Jean</span></div>
    <div class="carousel-item"><img src="Anemo/Sacarosa.webp" alt="Sacarosa"><span>Sacarosa</span></div>
    <div class="carousel-item"><img src="Anemo/Xiao.webp" alt="Xiao"><span>Xiao</span></div>
    <div class="carousel-item"><img src="Anemo/Sayu.webp" alt="Sayu"><span>Sayu</span></div>
    <div class="carousel-item"><img src="Anemo/Heizou.webp" alt="Heizou"><span>Heizou</span></div>
    <div class="carousel-item"><img src="Anemo/Xianyun.webp" alt="Xianyun"><span>Xianyun</span></div>
    <div class="carousel-item"><img src="Anemo/Faruzan.jpg" alt="Faruzan"><span>Faruzan</span></div>
    <div class="carousel-item"><img src="Anemo/Lynette.webp" alt="Lynette"><span>Lynette</span></div>
    <div class="carousel-item"><img src="Anemo/Kazuha.png" alt="Kazuha"><span>Kazuha</span></div>
    <div class="carousel-item"><img src="Anemo/Chasca.webp" alt="Chasca"><span>Chasca</span></div>
    <div class="carousel-item"><img src="Anemo/IfÃ¡.webp" alt="Ifa"><span>Ifa</span></div>
    <div class="carousel-item"><img src="Anemo/Mizuki.webp" alt="Mizuki"><span>Mizuki</span></div>
    <div class="carousel-item"><img src="Anemo/LanYan.webp" alt="Lan Yan"><span>Lan Yan</span></div>
  </div>
  <div class="carousel-arrows">
    <button class="arrow left" id="arrowLeft" aria-label="Anterior">
  <svg width="32" height="32" viewBox="0 0 32 32" fill="none">
    <circle cx="16" cy="16" r="15" fill="#23234a" stroke="#5e81ac" stroke-width="2"/>
    <polyline points="19,10 13,16 19,22" fill="none" stroke="#ffe082" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
  </svg>
</button>
<button class="arrow right" id="arrowRight" aria-label="Siguiente">
  <svg width="32" height="32" viewBox="0 0 32 32" fill="none">
    <circle cx="16" cy="16" r="15" fill="#23234a" stroke="#5e81ac" stroke-width="2"/>
    <polyline points="13,10 19,16 13,22" fill="none" stroke="#ffe082" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
  </svg>
</button>
  </div>
</div>

<div id="personajeModal" class="modal">
  <div class="modal-content">
    <span class="close" id="closeModal">&times;</span>
    <div id="modalInfo"></div>
  </div>
</div>



<script>
const carousel = document.getElementById('anemoCarousel');
const items = carousel.querySelectorAll('.carousel-item');
const buscador = document.getElementById('buscadorPersonaje');
buscador.addEventListener('input', function() {
  const texto = buscador.value.toLowerCase();
  let encontrado = false;
  let visibleCount = 0;
  let visibleIdx = -1;

  items.forEach((item, idx) => {
    const nombre = item.querySelector('span').textContent.toLowerCase();
    if (nombre.includes(texto) && texto !== "") {
      item.style.display = '';
      visibleCount++;
      if (!encontrado) {
        visibleIdx = idx;
        encontrado = true;
      }
    } else {
      item.style.display = nombre.includes(texto) ? '' : 'none';
    }
  });

  // Centra el primer personaje visible (si hay alguno)
  if (visibleIdx !== -1) {
    current = visibleIdx;
  }

  // Si solo hay un personaje visible, detÃ©n el carrusel
  if (visibleCount === 1) {
    clearInterval(carouselInterval);
  } else {
    // Si no hay bÃºsqueda o hay varios, reanuda el carrusel
    if (carouselInterval) {
      clearInterval(carouselInterval);
    }
    carouselInterval = setInterval(next, 4000);
  }

  updateCarousel();
});
let current = 0;

const personajesInfo = {
 Venti: {
  nombre: "Venti",
  descripcion: "Bardo de Mondstadt y el Arconte Anemo.",
  imagen: "Anemo/Venti.gif",
  rareza: "â˜…â˜…â˜…â˜…â˜…",
  arma: "Arco",
  region: "Mondstadt"
},
 Jean: {
  nombre: "Jean",
  descripcion: "Gran Maestra interina de los Caballeros de Favonius.",
  imagen: "Anemo/Jean.gif",
  rareza: "â˜…â˜…â˜…â˜…â˜…",
  arma: "Espada",
  region: "Mondstadt"
},
   Sacarosa: {
    nombre: "Sacarosa",
    descripcion: "Alquimista y asistente de Albedo.",
    imagen: "Anemo/Sacarosa.gif",
    rareza: "â˜…â˜…â˜…â˜…",
    arma: "Catalizador",
    region: "Mondstadt"
  },
  Xiao: {
    nombre: "Xiao",
    descripcion: "Yaksha protector de Liyue.",
    imagen: "Anemo/Xiao.gif",
    rareza: "â˜…â˜…â˜…â˜…â˜…",
    arma: "Lanza",
    region: "Liyue"
  },
  Sayu: {
    nombre: "Sayu",
    descripcion: "Ninja de Shuumatsuban.",
    imagen: "Anemo/Sayu.gif",
    rareza: "â˜…â˜…â˜…â˜…",
    arma: "Mandoble",
    region: "Inazuma"
  },
  Heizou: {
    nombre: "Heizou",
    descripcion: "Detective prodigio de la ComisiÃ³n Tenryou.",
    imagen: "Anemo/Heizou.gif",
    rareza: "â˜…â˜…â˜…â˜…",
    arma: "Catalizador",
    region: "Inazuma"
  },
  Xianyun: {
    nombre: "Xianyun",
    descripcion: "Personaje misterioso de Liyue.",
    imagen: "Anemo/Xianyun.gif",
    rareza: "â˜…â˜…â˜…â˜…",
    arma: "Catalizador",
    region: "Liyue"
  },
  Faruzan: {
    nombre: "Faruzan",
    descripcion: "Erudita de Sumeru experta en mecÃ¡nica.",
    imagen: "Anemo/Faruzan.gif",
    rareza: "â˜…â˜…â˜…â˜…",
    arma: "Catalizador",
    region: "Sumeru"
  },
  Lynette: {
    nombre: "Lynette",
    descripcion: "Asistente de Lyney en Fontaine.",
    imagen: "Anemo/Lynette.gif",
    rareza: "â˜…â˜…â˜…â˜…",
    arma: "Espada",
    region: "Fontaine"
  },
  Kazuha: {
    nombre: "Kazuha",
    descripcion: "SamurÃ¡i errante de Inazuma.",
    imagen: "Anemo/Kazuha.gif",
    rareza: "â˜…â˜…â˜…â˜…â˜…",
    arma: "Espada",
    region: "Inazuma"
  },
   Chasca: {
    nombre: "Chasca",
    descripcion: "GuardiÃ¡n de los vientos ancestrales.",
    imagen: "Anemo/Chasca.gif",
    rareza: "â˜…â˜…â˜…â˜…",
    arma: "Arco",
    region: "Natlan"
  },
  Ifa: {
    nombre: "Ifa",
    descripcion: "Misteriosa viajera de tierras lejanas.",
    imagen: "Anemo/Ifa.gif",
    rareza: "â˜…â˜…â˜…â˜…",
    arma: "Catalizador",
    region: "Natlan"
  },
  Mizuki: {
    nombre: "Mizuki",
    descripcion: "Maestra de las corrientes y el clima.",
    imagen: "Anemo/Mizuki.gif",
    rareza: "â˜…â˜…â˜…â˜…â˜…",
    arma: "Catalizador",
    region: "Inazuma"
  },
  "Lan Yan": {
    nombre: "Lan Yan",
    descripcion: "Artista marcial de gran renombre.",
    imagen: "Anemo/LanYan.gif",
    rareza: "â˜…â˜…â˜…â˜…",
    arma: "Catalizador",
    region: "Liyue"
  }
  
};

function updateCarousel() {
  // Solo los items visibles
  const visibles = Array.from(items).filter(item => item.style.display !== 'none');

  // Si no hay visibles, no hacer nada
  if (visibles.length === 0) return;

  // Encuentra el Ã­ndice del actual entre los visibles
  let visibleCurrent = visibles.indexOf(items[current]);
  // Si el actual no estÃ¡ visible, centra el primero visible
  if (visibleCurrent === -1) {
    current = Array.from(items).indexOf(visibles[0]);
    visibleCurrent = 0;
  }

  // Centrar el personaje activo visible
  const itemWidth = visibles[0].offsetWidth + 30;
  const totalWidth = visibles.length * itemWidth;
  const containerWidth = document.querySelector('.carousel-container').offsetWidth;

  
  // El offset debe usar el Ã­ndice dentro de los visibles
  let offset = (containerWidth / 2) - (itemWidth / 2) - (visibleCurrent * itemWidth);

  if (totalWidth <= containerWidth) {
    offset = 0;
  } else {
    const maxOffset = 0;
    const minOffset = containerWidth - totalWidth;
    if (offset > maxOffset) offset = maxOffset;
    if (offset < minOffset) offset = minOffset;
  }

  carousel.style.transform = `translateX(${offset}px)`;

  // Marca solo el activo visible
  items.forEach(item => item.classList.remove('active'));
  if (visibleCurrent !== -1) {
    visibles[visibleCurrent].classList.add('active');
  }
}
function next() {
  current = (current + 1) % items.length;
  updateCarousel();
}

// Flechas
const arrowLeft = document.getElementById('arrowLeft');
const arrowRight = document.getElementById('arrowRight');

arrowLeft.onclick = function() {
  current = (current - 1 + items.length) % items.length;
  updateCarousel();
  clearInterval(carouselInterval);
  carouselInterval = setInterval(next, 4000);
};

arrowRight.onclick = function() {
  next();
  clearInterval(carouselInterval);
  carouselInterval = setInterval(next, 4000);
};

// Esperar a que todas las imÃ¡genes carguen antes de centrar el carrusel
const images = carousel.querySelectorAll('img');
let loaded = 0;
images.forEach(img => {
  if (img.complete) {
    loaded++;
  } else {
    img.onload = () => {
      loaded++;
      if (loaded === images.length) updateCarousel();
    };
    img.onerror = () => {
      loaded++;
      if (loaded === images.length) updateCarousel();
    };
  }
});
if (loaded === images.length) updateCarousel();

// Intervalo automÃ¡tico
let carouselInterval = setInterval(next, 4000);

// ---- MODAL Y CONTROL DE INTERVALO ----
const modal = document.getElementById('personajeModal');
const closeModal = document.getElementById('closeModal');


let modalAbierto = false;

items.forEach((item, idx) => {
  item.addEventListener('click', () => {
    if (modalAbierto) return; // No abrir otro modal si ya estÃ¡ abierto
    if (idx !== current) return; // Solo permite abrir el modal del personaje activo
    const nombre = item.querySelector('span').textContent.trim();
    const info = personajesInfo[nombre]; // <-- Â¡Esto es lo que faltaba!
    if (info) {
  document.getElementById('modalInfo').innerHTML = `
    <img src="${info.imagen}" alt="${info.nombre}" style="width:220px;height:250px;display:block;margin:0 auto 16px auto;border-radius:16px;">
    <h2>${info.nombre}</h2>
    <p>${info.descripcion}</p>
    <p><strong>Rareza:</strong> ${info.rareza || ''}</p>
    <p><strong>Arma:</strong> ${info.arma || ''}</p>
    <p><strong>RegiÃ³n:</strong> ${info.region || ''}</p>
  `;
} else {
  document.getElementById('modalInfo').innerHTML = "<p>InformaciÃ³n no disponible.</p>";
}
    modal.classList.add('mostrar');
    modalAbierto = true;
    clearInterval(carouselInterval); // Detiene el carrusel
  });
});

closeModal.onclick = function() {
  modal.classList.remove('mostrar');
  modalAbierto = false; // <-- AÃ±ade esto
  carouselInterval = setInterval(next, 4000); // Reanuda el carrusel
}
window.onclick = function(event) {
  if (event.target == modal) {
    modal.classList.remove('mostrar'); // <-- Cambia esto
    modalAbierto = false;
    carouselInterval = setInterval(next, 4000);
  }
}

const btnArriba = document.getElementById('btnArriba');
window.onscroll = function() {
  btnArriba.style.display = window.scrollY > 200 ? 'block' : 'none';
};
btnArriba.onclick = function() {
  window.scrollTo({ top: 0, behavior: 'smooth' });
};

const bgm = document.getElementById('bgm');
const toggleMusic = document.getElementById('toggleMusic');
toggleMusic.onclick = function() {
  if (bgm.paused) {
    bgm.play();
    toggleMusic.textContent = "ðŸ”Š";
  } else {
    bgm.pause();
    toggleMusic.textContent = "ðŸ”‡";
  }
};
window.addEventListener('DOMContentLoaded', function() {
  // Intenta reproducir la mÃºsica automÃ¡ticamente
  const bgm = document.getElementById('bgm');
  const toggleMusic = document.getElementById('toggleMusic');
  bgm.volume = 0.5; // Opcional: volumen inicial

  // Intenta reproducir al cargar
  bgm.play().then(() => {
    toggleMusic.textContent = "ðŸ”Š";
  }).catch(() => {
    // Si el navegador bloquea el autoplay, muestra el botÃ³n en modo "pausado"
    toggleMusic.textContent = "ðŸ”‡";
  });
});

const toggleTheme = document.getElementById('toggleTheme');

// Aplica el tema guardado al cargar la pÃ¡gina
if(localStorage.getItem('theme') === 'light') {
  document.body.classList.add('light-theme');
  toggleTheme.textContent = "ðŸŒž";
} else {
  toggleTheme.textContent = "ðŸŒ™";
}

// Cambia el tema y guarda la preferencia
toggleTheme.onclick = function() {
  document.body.classList.toggle('light-theme');
  if(document.body.classList.contains('light-theme')) {
    toggleTheme.textContent = "ðŸŒž";
    localStorage.setItem('theme', 'light');
  } else {
    toggleTheme.textContent = "ðŸŒ™";
    localStorage.setItem('theme', 'dark');
  }
};
</script>